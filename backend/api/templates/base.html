{% extends 'layout.html' %} {% block title %} Home {% endblock %}
{% block content %}

<div class="row">
  <form class="col-9" method="POST" action="" id="weddingForm">
    {% csrf_token %}
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="home-tab"
          data-bs-toggle="tab"
          data-bs-target="#home-tab-pane"
          type="button"
          role="tab"
          aria-controls="home-tab-pane"
          aria-selected="true"
        >
          Thông tin tiệc cưới
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="profile-tab"
          data-bs-toggle="tab"
          data-bs-target="#profile-tab-pane"
          type="button"
          role="tab"
          aria-controls="profile-tab-pane"
          aria-selected="false"
        >
          Thông tin món ăn
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="contact-tab"
          data-bs-toggle="tab"
          data-bs-target="#contact-tab-pane"
          type="button"
          role="tab"
          aria-controls="contact-tab-pane"
          aria-selected="false"
        >
          Thông tin dịch vụ
        </button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div
        class="tab-pane fade show active"
        id="home-tab-pane"
        role="tabpanel"
        aria-labelledby="home-tab"
        tabindex="0"
      >
        <div id="khachhang"></div>

        <h4>Thông tin tiệc cưới</h4>
        <div class="row">
          {% comment %}
          <div class="col mb-3" id="weddingInfo">
            <label for="ngaydattiec" class="form-label">Ngày đặt tiệc</label>
            <input
              type="date"
              class="form-control"
              id="ngaydattiec"
              name="ngaydattiec"
              placeholder="Ngày đặt tiệc"
            />
          </div>
          {% endcomment %}
          <div class="col mb-3" id="weddingInfo">
            <label for="ngaydaitiec" class="form-label">Ngày đãi tiệc </label>
            <input
              type="date"
              class="form-control"
              id="ngaydaitiec_input"
              name="ngaydaitiec"
              placeholder="Ngày đãi tiệc "
            />
          </div>
        </div>
        <div class="row">
          <div class="col mb-3" id="weddingInfo">
            <label for="maca" class="form-label">Ca</label>

            <select
              class="form-select"
              name="maca_select"
              id="maca_select"
              aria-label="Default select example"
            >
              <option value="">Chọn ca</option>
              {% for shift in shifts %}
              <option value={{shift.maca}}>
                {{shift.tenca}} ({{shift.giobatdau}}-{{shift.gioketthuc}})
              </option>
              {%endfor%}
            </select>
          </div>
          <div  class="col mb-3" id="selectLobbies">
          </div>
        </div>
        <div class="row">
          <div class="col mb-3" id="weddingInfo">
            <label for="soluongban" class="form-label" id="soluongban_lable">Số lượng bàn</label>
            <input
              type="number"
              class="form-control"
              id="soluongban_input"
              min=1
              name="soluongban"
              placeholder="Số lượng bàn"
            />
          </div>
          {% comment %} <div class="col mb-3" id="weddingInfo">
            <label for="soluongbandutru" class="form-label"
              >Số lượng bàn dự trữ</label
            >
            <input
              type="number"
              class="form-control"
              id="soluongbandutru"
              name="soluongbandutru"
              placeholder="Số lượng bàn dự trữ"
            />
          </div> {% endcomment %}
        </div>
      </div>
      <div
        class="tab-pane fade"
        id="profile-tab-pane"
        role="tabpanel"
        aria-labelledby="profile-tab"
        tabindex="0"
      >
        <select
          id="foodTypeSelect"
          class="form-select form-select-sm outline-none"
          aria-label="Small select example"
        >
          {% for foodType in foodTypes %}

          <option value="{{foodType.maloaimonan}}">
            {{foodType.tenloaimonan}}
          </option>

          {% endfor %}
        </select>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Tên món ăn</th>
              <th scope="col">Loại món ăn</th>
              <th scope="col">Đơn giá</th>
              <th scope="col">Ghi chú</th>
              <th scope="col">Select</th>
            </tr>
          </thead>
          <tbody>
            {% load humanize %}
            {% for food in foods %}
            <tr class="foodRow" data-loaimonan="{{ food.maloaimonan }}">
              <th scope="row">{{ forloop.counter }}</th>
              <td>{{ food.tenmonan }}</td>
              <td>{{ food.maloaimonan}}</td>
              <td>{{ food.dongia |floatformat|intcomma}}</td>
              <td>{{ food.ghichu }}</td>
              <td id="weddingInfo">
                <input
                  type="checkbox"
                  name="selected_foods"
                  value="{{ food.mamonan }}"
                />
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div
        class="tab-pane fade"
        id="contact-tab-pane"
        role="tabpanel"
        aria-labelledby="contact-tab"
        tabindex="0"
      >
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Tên dịch vụ</th>
              <th scope="col">Loại dịch vụ</th>
              <th scope="col">Đơn giá</th>
              <th scope="col">Ghi chú</th>
              <th scope="col">Select</th>
            </tr>
          </thead>
          <tbody>
            {% load humanize %}
            {% for service in services %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <td>{{ service.tendichvu }}</td>
              <td>{{ service.loaidichvu.tenloaidichvu }}</td>

              <td>{{ service.dongia|floatformat|intcomma }}</td>
              <td>{{ service.ghichu }}</td>
              <td id="weddingInfo">
                <input
                  type="checkbox"
                  name="selected_services"
                  value="{{ service.id }}"
                />
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  <div class="col-3 wedding-info p-2">
    <h4>Thông tin khách hàng</h4>
    <div class="row">
      <div class="col mb-3" id="weddingInfo">
        <label for="tenchure" class="form-label">Tên chú rể</label>
        <input
          type="text"
          class="form-control"
          id="tenchure"
          name="tenchure"
          placeholder="Tên chú rể"
        />
      </div>
      <div class="col mb-3" id="weddingInfo">
        <label for="tencodau" class="form-label">Tên cô dâu</label>
        <input
          type="text"
          class="form-control"
          id="tencodau"
          name="tencodau"
          placeholder="Tên cô dâu"
        />
      </div>
    </div>
    <div class="mb-3">
      <label for="sdt" class="form-label">Số điện thoại</label>
      <input
        type="text"
        class="form-control"
        id="sdt"
        name="sdt"
        placeholder="Số điện thoại"
      />
    </div>

    <div id="weddingInfoDisplay"></div>
    <p id="ngaydattiectext"></p>
    <p id="ngaydaitiec_value"></p>
    <p id="tenca_value"></p>
    <p id="thoigian_value"></p>
  </div>
</div>
{% endblock %}
